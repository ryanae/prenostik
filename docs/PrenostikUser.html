<!DOCTYPE html>

<html>
<head>
  <title>PrenostikUser.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="app.html">
                  app.js
                </a>
              
                
                <a class="source" href="PrenostikUser.html">
                  PrenostikUser.js
                </a>
              
                
                <a class="source" href="accounts.html">
                  accounts.js
                </a>
              
                
                <a class="source" href="accountsCommon.html">
                  accountsCommon.js
                </a>
              
                
                <a class="source" href="categories.html">
                  categories.js
                </a>
              
                
                <a class="source" href="corpaccounts.html">
                  corpaccounts.js
                </a>
              
                
                <a class="source" href="login.html">
                  login.js
                </a>
              
                
                <a class="source" href="analyze.html">
                  analyze.js
                </a>
              
                
                <a class="source" href="category.html">
                  category.js
                </a>
              
                
                <a class="source" href="categoryUpdate.html">
                  categoryUpdate.js
                </a>
              
                
                <a class="source" href="dataset.html">
                  dataset.js
                </a>
              
                
                <a class="source" href="home.html">
                  home.js
                </a>
              
                
                <a class="source" href="snapshot.html">
                  snapshot.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>PrenostikUser.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>PrenostikUser.js
This user object is to prevent a single unified user
object throughout the program.  </p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Initial coding 1/28/2014 by Ken Townsley
Revision to remove legacy code 3/8/2014
Revision to add group membership support</p>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>This object encapsulates the user data returned by 
the server.  It offers simple member access to user 
permissions and data fields.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*
 Here's an example of how to use the "canDo" method:
 
 if (PrenostikUser.canDo("CG_EDIT") ){
 		allow editing
 }
 else
 		don't allow editing
		
*/</span>

<span class="hljs-built_in">module</span>.exports = PrenostikUser;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PrenostikUser</span><span class="hljs-params">(data)</span> 
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Custom type id for construction from another PrenostikUser</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.type = <span class="hljs-string">"PrenostikUser"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Convert the user string data to a user object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span>( (<span class="hljs-keyword">typeof</span> data == <span class="hljs-string">'string'</span>) &amp;&amp; (data != <span class="hljs-literal">null</span>) )
	{
		<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Using PrenostikUser string constructor"</span>);		
		<span class="hljs-keyword">this</span>.userData = <span class="hljs-built_in">JSON</span>.parse(data);		
	}	

	<span class="hljs-keyword">if</span>(data.type == <span class="hljs-string">"PrenostikUser"</span>)
	{</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>console.log(“Constructing from a PrenostikUser type”);
Convert the PrenostikUser to a plain data structure</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		data = data.userData;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Just a plain data object.  Assign it.    </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.userData = data;</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Break out top used fields for easy access</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.status = <span class="hljs-keyword">this</span>.userData.status;
	<span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.userData.id;
	<span class="hljs-keyword">this</span>.email = <span class="hljs-keyword">this</span>.userData.email;
	<span class="hljs-keyword">this</span>.username = <span class="hljs-keyword">this</span>.userData.username;
	<span class="hljs-keyword">this</span>.firstname = <span class="hljs-keyword">this</span>.userData.firstname;
	<span class="hljs-keyword">this</span>.middlename = <span class="hljs-keyword">this</span>.userData.middlename;
	<span class="hljs-keyword">this</span>.lastname = <span class="hljs-keyword">this</span>.userData.lastname;
	<span class="hljs-keyword">this</span>.permissions = <span class="hljs-keyword">this</span>.userData.permissions;
	<span class="hljs-keyword">this</span>.groups = <span class="hljs-keyword">this</span>.userData.groups;
	<span class="hljs-keyword">this</span>.account = <span class="hljs-keyword">this</span>.userData.account;
	<span class="hljs-keyword">this</span>.company = <span class="hljs-keyword">this</span>.userData.account.name;
}	

PrenostikUser.prototype.canDo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(action)</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Returns true if the user has the authority
to perform the requested action</p>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>If no action is provided, don’t approve it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span>(action == <span class="hljs-literal">null</span>)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>A disabled user account can’t do anything.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.userData.isLocked == <span class="hljs-literal">true</span>)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Returns true if the user has the authority to perform the specified action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> permissions = <span class="hljs-keyword">this</span>.permissions;</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Search the user’s permissions list for the requested action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> permissions) 
	{
		<span class="hljs-keyword">var</span> p = permissions[i];
		<span class="hljs-keyword">if</span>(p != <span class="hljs-literal">null</span>)
			{				
				<span class="hljs-keyword">if</span>(p.name.localeCompare(action)==<span class="hljs-number">0</span>)
					<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Found it.</span>
			}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>The specified permission was not found on the list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  
}</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>This function manages permissions to view access controlled menus</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>PrenostikUser.prototype.canDoMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(menuName)</span>
</span>{	
	<span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>This function is a pseudo REST call to allow for storage
of menu permissions on the server in the future.
Returns a list of objects that define the permissions 
required to view the access controlled menus.
So the first thing is to create permission structures in a list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> getMenus = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{	
		<span class="hljs-keyword">var</span> menus = [];		
		<span class="hljs-keyword">var</span> mnuEditCompany = 
		{	<span class="hljs-comment">// At this time, companies do not manage their accounts, we do.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>So these permissions always fail.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			id: <span class="hljs-number">0</span>,
			name: <span class="hljs-string">"MNU_MANAGE_COMPANY"</span>,
			description: <span class="hljs-string">"Edit Company Account"</span>,
			permissions:[{id: <span class="hljs-number">0</span>, name: <span class="hljs-string">"XX_CREATE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">1</span>, name: <span class="hljs-string">"XX_DELETE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">2</span>, name: <span class="hljs-string">"XX_EDIT"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">3</span>, name: <span class="hljs-string">"XX_PERMASSIGN"</span>, description: <span class="hljs-string">"none"</span>}						 
						 ]
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Any of these permissions allow them to see the edit companies menu</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">var</span> mnuEditCompanies = <span class="hljs-comment">// "Prenostik Account Admin" has these explicit permissions</span>
		{
			id: <span class="hljs-number">1</span>,
			name: <span class="hljs-string">"MNU_ACCOUNT_ADMIN"</span>,
			description: <span class="hljs-string">"Edit All Company Accounts"</span>,<span class="hljs-comment">// Permissions correct as of 5/15/2014</span>
			permissions:[{id: <span class="hljs-number">0</span>, name: <span class="hljs-string">"AP_CREATE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">1</span>, name: <span class="hljs-string">"AP_EDIT"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">2</span>, name: <span class="hljs-string">"AP_DELETE"</span>, description: <span class="hljs-string">"none"</span>},						 
						 {id: <span class="hljs-number">3</span>, name: <span class="hljs-string">"AL_CREATE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">4</span>, name: <span class="hljs-string">"AL_EDIT"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">5</span>, name: <span class="hljs-string">"AL_DELETE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">6</span>, name: <span class="hljs-string">"AS_CREATE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">7</span>, name: <span class="hljs-string">"AS_EDIT"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">8</span>, name: <span class="hljs-string">"AS_DELETE"</span>, description: <span class="hljs-string">"none"</span>}						 
						 ]
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Any of these permissions allow user account editing</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">var</span> mnuEditUsers = 
		{
			id: <span class="hljs-number">2</span>,
			name: <span class="hljs-string">"MNU_SITE_ADMIN"</span>,
			description: <span class="hljs-string">"Edit User Accounts"</span>,<span class="hljs-comment">// Permissions correct as of 5/15/2014</span>
			permissions:[{id: <span class="hljs-number">0</span>, name: <span class="hljs-string">"CU_CREATE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">1</span>, name: <span class="hljs-string">"CU_DELETE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">2</span>, name: <span class="hljs-string">"CU_EDIT"</span>, description: <span class="hljs-string">"none"</span>},						 
						 {id: <span class="hljs-number">3</span>, name: <span class="hljs-string">"CG_CREATE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">4</span>, name: <span class="hljs-string">"CG_DELETE"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">5</span>, name: <span class="hljs-string">"CG_EDIT"</span>, description: <span class="hljs-string">"none"</span>},
						 {id: <span class="hljs-number">6</span>, name: <span class="hljs-string">"CG_ASSIGN"</span>, description: <span class="hljs-string">"none"</span>}
						 ]

		}
		menus.push(mnuEditCompany);
		menus.push(mnuEditCompanies);
		menus.push(mnuEditUsers);	
		<span class="hljs-keyword">return</span> menus;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Returns true if the user passed in has required permissions for the menu</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> testPermissions = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(user, menu)</span></span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Cycle through all the required permissions for the menu passed in</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> menu.permissions) 
		{
			<span class="hljs-keyword">var</span> permission = menu.permissions[i];</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>console.log(“Checking for permission name: “, permission);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span>(permission != <span class="hljs-literal">null</span>)
			{	<span class="hljs-comment">// See if the user has this permission				</span>
				<span class="hljs-keyword">if</span>(user.canDo(permission.name))
				{	<span class="hljs-comment">// If the user has even one required permission, they can see the menu.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>otherwise, how could they do the permitted action?
console.log(“User can do: “, permission.name);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
				}
			}
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>The user has none of the required permissions for this menu</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Get the permissions list for access controlled menus</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> menus = getMenus();</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Now check the list of menus for the requested item passed in.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> menus) 
	{
		<span class="hljs-keyword">var</span> mnu = menus[i]; <span class="hljs-comment">// Get a menu object</span></pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>console.log(“here’s a menu: “, mnu);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(mnu != <span class="hljs-literal">null</span>)
			{	<span class="hljs-comment">// See if the name matches the requested menu			</span>
				<span class="hljs-keyword">if</span>(mnu.name.localeCompare(menuName)==<span class="hljs-number">0</span>)
				{</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Found the specified menu.  Now check permissions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">return</span> testPermissions(<span class="hljs-keyword">this</span>, mnu);
				}
			}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>The specified menu was not found on the list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

PrenostikUser.prototype.isLocked = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Returns true if the user’s account is locked</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.userData.status == <span class="hljs-number">0</span>)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// False, user account is not locked</span>
	<span class="hljs-keyword">else</span>
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// True, user account is locked.</span>
}

PrenostikUser.prototype.getStatus = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Returns the code for why a user’s account is locked</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.userData.status;
}

PrenostikUser.prototype.getStatusString = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status)</span>
</span>{					 
	<span class="hljs-keyword">var</span> description = <span class="hljs-keyword">this</span>.getStatusDescriptions();
	<span class="hljs-keyword">if</span>(status != <span class="hljs-literal">null</span>)
		<span class="hljs-keyword">return</span> description[status];
	<span class="hljs-keyword">else</span>
		<span class="hljs-keyword">return</span> description[<span class="hljs-keyword">this</span>.status];
}

PrenostikUser.prototype.getStatusDescriptions = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Convenience function to centralize these descriptions    </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> description=[<span class="hljs-string">"Active"</span>,
					 <span class="hljs-string">"New User"</span>,
					 <span class="hljs-string">"Locked"</span>,
					 <span class="hljs-string">"Expired Password"</span>,
					 <span class="hljs-string">"Expired Account"</span>,
					 <span class="hljs-string">"Reset"</span>];
	<span class="hljs-keyword">return</span> description;
}

PrenostikUser.prototype.isMember = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(group)</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>Returns true if this user is a member
of the group passed in.        </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> membershipList = <span class="hljs-keyword">this</span>.groups;</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Parse the user’s membership list for the group concerned</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;membershipList.length; i++)
	{
		<span class="hljs-keyword">if</span>(group.id == membershipList[i].id)
			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// Found it.</span>
	}
	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// Not a member.</span>
}

PrenostikUser.prototype.getAccountID = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Returns the account this user is associated with    </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.account.id;
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
